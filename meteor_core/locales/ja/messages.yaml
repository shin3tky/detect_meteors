ui:
  error:
    header: "エラー: {message}"
    filepath: "ファイル: {filepath}"
    cause: "原因: {error_type}: {error_message}"
    unexpected: "予期しないエラー: {error_type}: {error_message}"
    unexpected.hint: "詳細なトレースは --verbose を付けて実行するか、不具合として報告してください。"
  diagnostic:
    info: "バグ報告には次の診断情報を含めてください:"
    hint:
      verbose: "--verbose を付けて実行すると詳細な診断情報を表示します。"
      save_option: "--save-diagnostic で診断レポートを保存できます。"
      save: "バグ報告用のレポートを保存するには --save-diagnostic を利用してください。"
    report:
      saved: "診断レポートを保存しました: {path}"
      title: "# 流星検出 - 診断レポート"
      description: "このファイルにはトラブルシューティングのための診断情報が含まれています。"
      instructions: "GitHub で問題を報告する際はこのファイルを添付してください。"
      issue_link: "GitHub Issues: {issue_url}"
    section:
      heading: "## 診断情報"
      file: "### ファイル情報"
      error: "### エラーの詳細"
      context: "### 追加コンテキスト"
      dependencies: "### 依存関係"
    label:
      version: "meteor_core バージョン"
      python_version: "Python バージョン"
      platform: "プラットフォーム"
      timestamp: "タイムスタンプ"
      filepath: "パス"
      file_exists: "存在"
      file_size: "サイズ"
      bytes: "バイト"
      error_type: "種類"
      error_message: "メッセージ"
      original_error_type: "元のエラー種類"
      original_error_message: "元のエラーメッセージ"
  interrupt:
    generic: "処理がユーザーにより中断されました。"
    progress: "処理が中断されました。進捗は {progress_file} に保存済みです。"
  progress:
    removed: "進捗ファイルを削除しました: {path}"
    not_found: "進捗ファイルが見つかりません: {path}"
  run:
    summary: "{count, plural, =0 {完了！抽出された候補はありませんでした} other {完了！候補を # 件抽出しました}}"
  cli:
    collecting: "RAW ファイルを収集中: {path}"
    found_files: "{count} 件のファイルを検出しました"
    load_first_failed: "最初の RAW ファイルの読み込みに失敗しました: {filename} ({error})"
    warnings:
      header: "⚠ 警告:"
    exif:
      header: "EXIF メタデータビューア"
      header_npf: "EXIF メタデータ & NPF ルール解析"
      target_folder: "対象フォルダ: {path}"
      found_raw_files: "{count} 件の RAW ファイルを検出しました"
      reading_first_file: "最初のファイルから EXIF を読み込み中: {filename}"
      focal_source:
        unknown: "不明"
        cli: "CLI (--focal-length)"
        exif: "EXIF"
        calculated_factor: "計算 (--focal-factor {factor})"
        calculated_sensor: "計算 (--sensor-type {sensor_type})"
        calculated_exif: "計算 (EXIF {focal_length:.1f}mm × 係数 {factor})"
        exif_actual: "EXIF (実焦点距離、35mm 換算なし)"
      warning:
        focal_length_unavailable: "焦点距離が利用できません"
        no_equiv: "35mm 換算が見つかりません。--sensor-type または --focal-factor を検討してください"
        iso_unavailable: "ISO 値が利用できません"
        exposure_unavailable: "露出時間が利用できません"
        sensor_width_missing: "センサー幅が未指定です。正確な NPF 計算には --sensor-type または --sensor-width を指定してください"
        npf_incomplete: "NPF 計算でデフォルト/推定値を使用しています"
    roi:
      cli_specified: "コマンドラインで ROI を指定しました: polygon={polygon}"
      setup_complete: "ROI の設定が完了しました: polygon={polygon}"
      none_selected: "ROI が選択されていません。画像全体を処理します。"
      skipped: "ROI 選択をスキップしました。画像全体を処理します。"
    auto_params:
      header: "自動パラメータ: NPF ルール最適化"
      warning:
        focal_length_missing: "EXIF から焦点距離を取得できません"
        focal_length_hint: "  → --focal-length を使用してください"
        no_equiv: "EXIF に 35mm 換算がありません (実焦点距離 {focal_length:.1f}mm を使用)"
        no_equiv_hint: "  → クロップセンサーでは --focal-factor を使用してください"
        iso_missing: "EXIF から ISO 値を取得できません"
        exposure_missing: "EXIF から露出時間を取得できません"
        default_pixel_pitch: "NPF 計算でデフォルトの画素ピッチを使用しています"
        pixel_pitch_hint: "  → 精度向上のため --sensor-width または --pixel-pitch を使用してください"
      optimize:
        header: "パラメータ最適化 (NPF ルール)"
        quality_score: "撮影品質スコア: {score:.2f} ({level})"
        adjustments:
          header: "パラメータ調整:"
          item: "  • {text}"
          none: "自動調整なし (すべてユーザー指定)"
      legacy:
        insufficient: "⚠ NPF 最適化に十分なデータがありません"
        fallback: "  従来の自動パラメータ方式に切り替えます"
        diff_threshold:
          sample: "→ サンプルから diff_threshold を使用: {value}"
          user: "→ ユーザー指定の diff_threshold を使用: {value}"
        min_area:
          sample: "→ サンプルから min_area を使用: {value}"
          user: "→ ユーザー指定の min_area を使用: {value}"
        min_line_score:
          image: "→ 画像ベースの min_line_score を使用: {value:.1f}"
          user: "→ ユーザー指定の min_line_score を使用: {value}"
    processing_params:
      header: "処理パラメータ:"
      line: "  {label}: {value}"
      label:
        diff_threshold: "diff_threshold"
        min_area: "min_area"
        min_aspect_ratio: "min_aspect_ratio"
        hough_threshold: "hough_threshold"
        hough_min_line_length: "hough_min_line_length"
        hough_max_line_gap: "hough_max_line_gap"
        min_line_score: "min_line_score"
    progress:
      resuming: "進捗ファイルから再開: {path} (処理済み={processed}, 検出={detected})"
      param_mismatch: "進捗ファイルは存在しますがパラメータが異なります。進捗をリセットします。"
    processing:
      start: "{count} 組の画像を処理開始"
      parallel: "並列処理: {workers} ワーカー, バッチサイズ: {batch_size}"
      batches: "バッチ数: {count}"
      line: "  [LINE] {filename}: スコア={score:.1f}, 線数={lines}"
      hit: "  [HIT] {filename}: 比率={ratio:.2f}"
      skip: "  [SKIP] {filename}: 出力フォルダに既に存在します"
      skip_with_overwrite: "  [SKIP] {filename}: 出力フォルダに既に存在します (--output-overwrite で上書き)"
      checking: "確認中... {current}/{total}"
      batch_error: "バッチ処理エラー: {error}"
      interrupt_cancel: "ユーザーにより中断されました。ワーカープロセスをキャンセルしています..."
      processing_file: "処理中 {current}/{total}: {filename}"
  profile:
    header: "=== パフォーマンスプロファイル ==="
    first_load: "初回画像読み込み: {value:.3f}s"
    processing_time: "処理時間: {value:.3f}s"
    total_time: "合計時間: {value:.3f}s"
    images_processed: "処理画像数: {count}"
    average_per_image: "画像あたり平均: {value:.3f}s"
  pipeline:
    error:
      same_directories: "⚠ エラー: 入力と出力のディレクトリが同じです！"
    collecting: "RAW ファイルを収集中: {path}"
    need_two_images: "少なくとも 2 枚の画像が必要です。終了します。"
    found_files: "{count} 件のファイルを検出しました"
    load_first_failed: "最初の RAW ファイルの読み込みに失敗しました: {filename} ({error})"
    roi:
      cli_specified: "コマンドラインで ROI を指定しました: polygon={polygon}"
      setup_complete: "ROI の設定が完了しました: polygon={polygon}"
      none_selected: "ROI が選択されていません。画像全体を処理します。"
      skipped: "ROI 選択をスキップしました。画像全体を処理します。"
    progress:
      resuming: "進捗ファイルから再開: {path} (処理済み={processed}, 検出={detected})"
      param_mismatch: "進捗ファイルは存在しますがパラメータが異なります。進捗をリセットします。"
    processing:
      start: "{count} 組の画像を処理開始"
      parallel: "並列処理: {workers} ワーカー, バッチサイズ: {batch_size}"
      batches: "バッチ数: {count}"
      line: "  [LINE] {filename}: スコア={score:.1f}, 線数={lines}"
      hit: "  [HIT] {filename}: 比率={ratio:.2f}"
      skip: "  [SKIP] {filename}: 既に存在します"
      checking: "確認中... {current}/{total}"
      batch_error: "バッチ処理エラー: {error}"
      interrupt_cancel: "ユーザーにより中断されました。ワーカープロセスをキャンセルしています..."
      processing_file: "処理中 {current}/{total}: {filename}"
    interrupt:
      saved: "ユーザーにより中断されました。進捗は {path} に保存しました。"
    summary: "{count, plural, =0 {完了！抽出された候補はありませんでした} other {完了！候補を # 件抽出しました}}"
    estimate:
      loading_samples: "サンプル読み込み中... "
      sample_load_failed: "\n⚠ 警告: サンプル {index} の読み込みに失敗しました: {error}"
      samples_loaded: "✓ {count} 枚読み込みました"
      not_enough_valid_samples: "⚠ 有効なサンプルが不足しています。デフォルトを使用します"
      no_valid_samples: "⚠ 有効なサンプルがありません。デフォルトを使用します"
      done: "✓"
      diff_threshold:
        header: "diff_threshold を {sample_size} サンプルから自動推定"
        subtitle: "パーセンタイル方式"
        too_few_samples: "⚠ サンプルが不足しています。デフォルトを使用します"
        analyzing: "ROI 内のフレーム差分を解析中... "
        stats:
          header: "ROI 差分統計 (対象ピクセル {pixel_count:,}):"
          label:
            mean: "平均:"
            std_dev: "標準偏差:"
            median: "中央値:"
            p90: "90 パーセンタイル:"
            p95: "95 パーセンタイル:"
            p98: "98 パーセンタイル:"
            p99: "99 パーセンタイル:"
          mean: "  平均:         {value:.2f}"
          std_dev: "  標準偏差:     {value:.2f}"
          median: "  中央値:       {value:.2f}"
          p90: "  90 パーセンタイル: {value:.2f}"
          p95: "  95 パーセンタイル: {value:.2f}"
          p98: "  98 パーセンタイル: {value:.2f}"
          p99: "  99 パーセンタイル: {value:.2f}"
        methods:
          header: "推定方法:"
          label:
            p98: "[1] 98 パーセンタイル:"
            mean_sigma: "[2] 平均 + 1.5σ:"
            median: "[3] 中央値 × 3:"
          p98: "  [1] 98 パーセンタイル: {value}"
          mean_sigma: "  [2] 平均 + 1.5σ:        {value}"
          median: "  [3] 中央値 × 3:         {value}"
        selected: "✓ 選択した閾値: {value} (最小値)"
      min_area:
        header: "min_area を {sample_size} サンプルから自動推定"
        subtitle: "星サイズ分布解析"
        too_few_samples: "⚠ サンプルが不足しています。デフォルトを使用します"
        detecting_stars: "ROI 内の星を検出中... "
        detected_stars: "✓ {count} 個の星を検出"
        too_few_stars: "⚠ 星の検出数が不足しています。デフォルトを使用します"
        stats:
          header: "星サイズ統計 (星 {count} 個):"
          label:
            median: "中央値:"
            mean: "平均:"
            p75: "75 パーセンタイル:"
            p90: "90 パーセンタイル:"
          value:
            pixels: "{value:.1f} px²"
          median: "  中央値:       {value:.1f} px²"
          mean: "  平均:         {value:.1f} px²"
          p75: "  75 パーセンタイル: {value:.1f} px²"
          p90: "  90 パーセンタイル: {value:.1f} px²"
        estimated: "✓ 推定 min_area: {value}"
        method_note: "  → 75 パーセンタイル × 2.0 (外れ値に強い)"
      min_line_score:
        header: "画像ジオメトリから min_line_score を自動推定"
        geometry:
          header: "画像ジオメトリ:"
          label:
            dimensions: "寸法:"
            diagonal: "対角:"
            focal_length: "焦点距離:"
            focal_factor: "焦点係数:"
            base_score: "基本スコア:"
            adjusted_score: "調整後:"
          value:
            dimensions: "{width}×{height} ピクセル"
            diagonal: "{value:.0f} ピクセル"
            focal_length: "{value}mm"
            focal_factor: "{value:.2f}×"
            base_score: "{value:.1f}"
            adjusted_score: "{value:.1f}"
          dimensions: "  寸法:   {width}×{height} ピクセル"
          diagonal: "  対角:   {value:.0f} ピクセル"
          focal_length: "  焦点距離: {value}mm"
          focal_factor: "  焦点係数: {value:.2f}×"
          base_score: "  基本スコア: {value:.1f}"
          adjusted_score: "  調整後:   {value:.1f}"
          no_focal: "  (焦点距離が指定されていません)"
        estimated: "✓ 推定 min_line_score: {value:.1f}"
        method_note: "  → 画像対角の約 2.5%"
  utils:
    sensor_preset:
      applied: "  センサープリセット [{sensor_type}]: {values}"
    sensor_override:
      warning:
        sensor_width: "⚠ 警告: --sensor-width {sensor_width}mm は --sensor-type {sensor_type} プリセット ({preset_width}mm) から {deviation:.1f}% 乖離しています"
        pixel_pitch: "⚠ 警告: --pixel-pitch {pixel_pitch}μm は --sensor-type {sensor_type} プリセット ({preset_pitch}μm) から {deviation:.1f}% 乖離しています"
    sensor_types:
      header: "利用可能なセンサータイプ (--sensor-type)"
      entry: "  {sensor_type}  {description}"
      details: "                  focal_factor={focal_factor}, sensor_width={sensor_width}mm, pixel_pitch={pixel_pitch}μm"
      aliases:
        header: "別名:"
        1inch: "  1-INCH, 1_INCH      → 1INCH"
        apsc: "  APS-C, APS_C        → APSC"
        apsc_canon: "  APS-C_CANON         → APSC_CANON"
        apsh: "  APS-H, APS_H        → APSH"
        ff: "  FULLFRAME           → FF"
        mf44x33: "  MF44-33, MF44_33    → MF44X33"
        mf54x40: "  MF54-40, MF54_40    → MF54X40"
      examples:
        header: "\n使用例:"
        mft: "  --sensor-type MFT"
        apsc: "  --sensor-type APS-C"
        ff: "  --sensor-type FF --pixel-pitch 5.9   # Override pixel pitch"
        mf44x33: "  --sensor-type MF44X33                # Fujifilm GFX / Pentax 645Z"
    fisheye:
      header: "魚眼補正"
      label:
        projection_model: "投影モデル:"
        nominal_focal: "公称焦点距離:"
        effective_focal: "有効焦点距離:"
        trail_ratio: "軌跡倍率:"
        npf_basis: "NPF 計算:"
      value:
        nominal_focal: "{focal_length:.1f}mm (中心)"
        effective_focal: "{focal_length:.1f}mm (周辺)"
        trail_ratio: "{ratio:.2f}× (周辺 vs 中心)"
        npf_basis: "周辺 (最悪条件) を基準"
      projection_model: "  投影モデル:   {model}"
      nominal_focal: "  公称焦点距離: {focal_length:.1f}mm (中心)"
      effective_focal: "  有効焦点距離: {focal_length:.1f}mm (周辺)"
      trail_ratio: "  軌跡倍率: {ratio:.2f}× (周辺 vs 中心)"
      npf_basis: "  NPF 計算:    周辺 (最悪条件) を基準"
    exif:
      header: "カメラ設定 (EXIF メタデータ)"
      label:
        camera: "カメラ:"
        lens: "レンズ:"
        focal_length: "焦点距離:"
        iso: "ISO:"
        exposure: "露出:"
        aperture: "絞り:"
        resolution: "解像度:"
      value:
        iso_unavailable: "取得不可"
        aperture: "f/{value:.1f}"
        resolution: "{width}x{height} px"
        focal_length:
          equiv: "{value:.1f}mm (35mm 換算) [{source}]"
          actual: "{value:.1f}mm (実焦点距離) [{source}]"
          calculated: "~ {value:.1f}mm (35mm 換算、係数 {factor} で計算)"
          no_equiv: "⚠ 35mm 換算が見つかりません"
          unavailable: "取得不可"
        exposure:
          seconds_long: "{value:.1f}s"
          seconds_short: "{value:.2f}s"
          fraction: "1/{denominator}s"
          unavailable: "取得不可"
    npf:
      header: "NPF ルール解析"
      label:
        pixel_pitch: "画素ピッチ:"
        recommended: "NPF 推奨:"
        actual_exposure: "実露出:"
        star_trail: "星の軌跡推定:"
        impact: "影響:"
      value:
        pixel_pitch: "{value:.2f}μm"
        recommended: "{value:.1f}s"
        actual_exposure: "{value:.1f}s"
        star_trail: "~{value:.1f} ピクセル"
      pixel_pitch_sensor: " (センサー幅: {sensor_width:.1f}mm)"
      pixel_pitch_default: " (デフォルト)"
      compliance:
        ok: " ✓ OK"
        exceeded: " ⚠  超過 ({factor:.2f}x)"
        critical: " ✗ 重大 ({factor:.2f}x)"
      impact:
        line: "{value}"
        minimal: "最小"
        low: "低"
        moderate: "中"
        high: "高"
      incomplete_note: "  ⚠ 注意: 不完全なデータのためデフォルト/推定値を使用しています"
  roi:
    window_title: "空領域を選択"
    mode:
      header: "--- ROI 選択モード ---"
      instructions: "左クリック: 頂点追加 | Esc: 最後の頂点を削除 | 開始点をクリックして閉じる"
